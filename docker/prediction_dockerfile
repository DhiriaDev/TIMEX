#syntax=docker/dockerfile:1

FROM baseimage:latest

WORKDIR /timexdocker/TIMEX
RUN poetry config virtualenvs.create false \
    && poetry install --with data_prediction


WORKDIR /timexdocker
COPY TIMEX ./TIMEX
COPY Redpanda ./Redpanda
COPY modules/prediction.py ./
COPY redpanda-ca.crt ./


ENTRYPOINT [ "./watcher"]
CMD [""]